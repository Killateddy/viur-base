<!DOCTYPE html>

{%- set lang = getLanguage() -%}
{%- set settings = getSkel("settings") -%}
{%- set url = getHostUrl() %}

{%- if not title -%}
	{%-set TITLE = settings["site_title"] + " - " + settings["site_slogan"] -%}
	{#- The default page title. Optimal length for search engines is 50-60 characters. -#}
{%- else  -%}
	{%- set TITLE = title + " - " + settings["site_title"] -%}
{%- endif -%}

{%- if not metaDescr -%}
	{#- The default meta description. The description should optimally be between 150-160 characters. -#}
	{%- set metaDescr = settings["seo_description"] or "This is a ViUR project"-%}
{%- endif -%}

{%- if not pageContent -%}
	{#- Set default css page name to index. -#}
	{%- set pageContent="index" -%}
{%- endif -%}

	{# Set Default Meta Image  #}
{%- if not metaImage and settings["seo_image"] -%}
	{%- set metaImage = settings["seo_image"] %}
{%- endif  %}

<html lang="{{ lang }}">
	<head>
		<meta charset="utf-8">

        {# Weclome to #}
		<meta property="og:title" content="{{ title }}">
		<title>{{ TITLE }}</title>

        {# Descriptions #}
		<meta name="description" lang="{{ lang }}" content="{{ metaDescr }}">
		<meta property="og:description" content="{{ metaDescr }}">
		<meta property="og:type" content="website">
		<meta property="og:url" content="{{ url }}">

		{%- if metaImage -%}
			<meta property="og:image" content="{{ metaImage }}">
		{%- endif  %}

        {# This website is a ViUR Information System #}
		<meta name="generator" content="www.viur.dev">
		<link type="text/plain" rel="author" href="/static/meta/humans.txt">
		{# Insert page owner here. Will show up in open graph links. #}
		<meta name="author" content="Mausbrand Informationssysteme GmbH">

		{# Robots #}
		{%- if settings["is_development"]  %}
			<meta name="robots" content="noindex, nofollow">
		{%- else  %}
			<meta name="robots" content="index, follow">
		{%- endif  %}

		<meta name="viewport" content="width=device-width,initial-scale=1.0">
		<!-- icons -->
		<link rel="shortcut icon" href="/static/meta/favicon.png" type="image/png">
		<!-- css -->
		<link href="/static/css/style.min.css" rel="stylesheet">

		{% block additionalHead %}
			{# use additionalHead for important template specific JS or CSS file imports. #}
		{% endblock additionalHead %}

	</head>
	<body>
		<div class="wrap">
			<div class="bind flex">
				<div class="content">
					<header>
						{% block header %}
							{# put your header here #}
							<nav class="bar">
								<div class="bar-group bar-group--left bar-group--nav">
									<a class="bar-link" href="https://docs.viur.is/latest/start.html" target="_blank">Documentation</a>
								</div>
								<div class="bar-group bar-group--center bar-group--nav">
									<div class="bar-item">
										<a class="github-button" href="https://github.com/viur-framework/viur-core" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star viur-framework/viur-core on GitHub">Star</a>
									</div>
									<div class="bar-item">
										<a class="github-button" href="https://github.com/viur-framework/viur-core/subscription" data-icon="octicon-eye" data-size="large" data-show-count="true" aria-label="Watch viur-framework/viur-core on GitHub">Watch</a>
									</div>
								</div>
								<div class="bar-group bar-group--right bar-group--nav">
									<a class="bar-link" href="{{ getHostUrl() }}/">Welcome</a>
									<a class="bar-link" href="{{ getHostUrl() }}/s/gettingstarted">Getting started</a>
									<a class="bar-link" href="{{ getHostUrl() }}/vi">Vi</a>
								</div>
							</nav>
						{% endblock header %}
					</header>

					{# name this content class after the page name AND function for better css addressing,
					 e.g.: 'index', 'page_view view', 'product_list list' #}
					<main class="{{ pageContent }}">
						{% block content %}
							{# put your content here #}
						{% endblock content %}
					</main>
					<footer>
						{% block footer %}
							{# put your footer here #}
						{% endblock footer %}
					</footer>
				</div>
			</div>
		</div>
		{% block additionalFooter %}
			{# use additionalFooter for less important template specific JS or CSS file imports. #}
			<script async defer src="https://buttons.github.io/buttons.js"></script>
		{% endblock additionalFooter %}
		{# Script #}
		<script async defer src="/static/js/app.js"></script>
	</body>
</html>
